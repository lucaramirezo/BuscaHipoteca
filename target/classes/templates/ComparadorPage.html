<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>Comparador de Hipotecas</title>
  <!-- Bootstrap y Estilos -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" th:href="@{/css/style.css}">
  <script src="/js/comparador.js" defer></script>
</head>
<body>
<!-- Incluir Navbar -->
<th:block th:replace="fragments/header :: nav"></th:block>

<div class="container mt-4">
  <!-- Navbar para Hipotecas Guardadas -->
  <nav class="navbar navbar-light bg-light my-3">
    <div class="container-fluid">
      <span class="navbar-brand">üìÇ Hipotecas Guardadas</span>
      <button class="btn btn-outline-primary" id="verHipotecasGuardadas">Ver Hipotecas</button>
    </div>
  </nav>

  <div class="row">
    <!-- Secci√≥n de Filtros -->
    <div class="col-md-3">
      <div class="card p-3">
        <h5 class="mb-3">Filtrar Hipotecas</h5>

        <label for="importeInicial" class="form-label">Importe inicial (‚Ç¨):</label>
        <input type="number" id="importeInicial" class="form-control mb-2" placeholder="Ejemplo: 100000">

        <label for="tipoHipoteca" class="form-label">Tipo de Hipoteca:</label>
        <select id="tipoHipoteca" class="form-select mb-2">
          <option value="">Selecciona un tipo</option>
          <option value="fija">Fija</option>
          <option value="variable">Variable</option>
          <option value="mixta">Mixta</option>
        </select>

        <label for="finalidad" class="form-label">Finalidad:</label>
        <select id="finalidad" class="form-select mb-2">
          <option value="">Selecciona la finalidad</option>
          <option value="primera vivienda">Primera Vivienda</option>
          <option value="inversion">Inversi√≥n</option>
          <option value="autopromocion">Autopromoci√≥n</option>
        </select>

        <label for="banco" class="form-label">A√±adir Banco:</label>
        <select id="banco" class="form-select mb-2">
          <option value="">Selecciona un banco</option>
        </select>

        <!-- Chips de Bancos Seleccionados -->
        <div id="bancosSeleccionados" class="mb-3"></div>

        <button id="compararButton" class="btn btn-primary w-100">üîç Comparar</button>
        <button id="verTodasButton" class="btn btn-outline-dark w-100 mt-2">üìú Ver Todas</button>
      </div>
    </div>

    <!-- Secci√≥n de Comparaci√≥n -->
    <div class="col-md-9">
      <h4 class="mb-3">Resumen/Comparaci√≥n de Hipotecas</h4>
      <div id="resultados" class="row g-3">
        <!-- Aqu√≠ se generar√°n din√°micamente las tarjetas de hipotecas -->
      </div>
    </div>
  </div>
</div>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    cargarBancos();
  });

  function cargarBancos() {
    const bancos = [
      "BBVA", "Santander", "CaixaBank", "Sabadell", "ING", "Kutxabank",
      "Bankinter", "EVO Banco", "Openbank", "Unicaja"
    ];

    let bancoSelect = document.getElementById("banco");
    bancos.forEach(banco => {
      let option = document.createElement("option");
      option.value = banco;
      option.textContent = banco;
      bancoSelect.appendChild(option);
    });
  }
</script>

</body>
</html>
